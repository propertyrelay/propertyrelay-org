<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Property Relay</title>
  <meta name="description" content="Property Relay is a hat tip to BTC Relay and aims to do two things centred around Ethereum's global computer.  Firstly, provide a resource for the desciption of physical property, initally privately owned real estate. Secondly, provide a relay between this resource and smart contracts.">
  <meta name="keywords" content="'property relay', 'btc relay', 'smart contracts', ethereum, bitcoin,'physical assets','physical property','real assets', 'real estate', relay, property">
  <meta name="author" content="Tim">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/styles.css?v=1.0">
  <link rel="stylesheet" media="screen and (max-width: 700px)" href="css/mobile.css" />
  <link rel='stylesheet' media='screen and (min-width: 701px)' href='css/laptop.css' />
  
</head>
 
<body>
  <!--<script src="js/scripts.js"></script>-->
<div class="bodyformat">
<H2>Property Relay</H2>
<H3>Notes</H3>
<h4>Page 0</h4>
<H4>Notes made from 16 March 16</H4>
<p>One possibility is a social network for homeowners.  This would be possible because of the information
collected in the process of selling the property by the Property Relay Dapp.  It would grow slowly as people decided to 
sell their property.</p>
<p>I had thought about using a subsciption structure like github.  Free for public records and charge for 
private records.  Now I'm more inclined to do the same as other Dapps.  Charge a fee every time a contract is 
called.  I have to look into this more because I am still unsure what my options are, how they would be 
implemented. etc. Things like charging for seeing certain info. Like property price history.  And also
monetising the data.  For example finding relationships between price and changes to property, like a fitted kitchen.</p>
<p>HIPs Engergy Performance Certificate (EPC) - can be found at epcregister.com.</p>
<p>A related service is www.nextdoor.com. Only real names and address.  Maybe confirm with land registry or
relevant authority</p>
<p>Competitors include airbnb and those stated on the index.html page.</p>
<p>The simplist use case would be similar to the sale of property at auction.  Are auction properties sold
as seen?</p>
<p>Insuarance companies might have an interest in the property information provided on the website.  An
issue is that if insurancde co's won't insure a building then that could indicate to a potential purchaser
that it has no value due to some risk.</p>
<p>The age of the property is usually included in the rics report.  But may not be exact date.  Would insurance
companies have this info?  Would they provide it?  The landregistry.gov.uk blog website provides ways of finding the 
age of a property.  My inital thoughts were that anyone could provide data/information for any property, a bit like
wiki.  But that could lead to abuse.  The kind of problems wiki has.</p>
<p>The advantage of real estate is it already has a legal framework.  Timeliness of data(?). So this can be used
in the transition to P2P transfer of property with no trusted third party.  But the legal framework will no doubt
change as this develops.  There are paralells with uber like the transition from driver to 
driverless vehicles, although I am uncomfortable about the loss of jobs as a result of this.</p>
<p>One of the things that needs to be considered is that big organisations are slow to move.  Insurance companies and 
government need a lot of checks, meetings, peer reveiws and debate.</p>
<h4>Page 1</h4>
<H4>Notes made from 24 March 2016</H4>
<p>How do Dapps work?</p>
<p>Dapps, Decentralised Applicatioins, I think, can be written and added to but not edited.  Therefore the design of a Dapp
has to be different to an existing app.  Can a Dapp be deleted?  Don't think so.</p>
<p>I also wonder how I can monetise the Dapp.  I think charges can be written into the called contracts.  But unsure.
The data could be valuable for data analysis.  As mentioned above maybe certain features could be charged for.</p>
<p>I said that the property record needs to be separate from the current owner because a record can't be edited in a
Dapp.  So a timeline of record(s) for each property might be necessary.  Can the record be made private?  To only be
accessed by the current owner.  What about transfer?</p>
<p>Title Deeds look like they come in a PDF document.  At least the copies do.  There's no signature, only a reference
number and the name and address of the current owner, and propery info.  I downloaded a sample.  The copy is admissable in court.  It
said somewhere that all the previous owners are listed on the title deed but the sample I downloaded only had the
current owner.  Further thoughts and investigation led to my conclusion that after the first transfer of property
with the ethereum address, further transfers wouldn't need the owners name but only the ethereum address.  I don't even
think an explicit reference number would be necessary as the contract/transaction would have its own unique reference
on the blockchain.  I was looking into IPFS for storing/handling the PDF file.  A hash would be made of the document
when the real property was transferred.  From then on, only the person with access to the ethereum account written
in the Title Deed would be able to transfer ownership and any other actions for that particular property.  At the 
moment the properties are stored in and handled in, I assume, a centralised database by the Land Registry in the UK.</p>
<p>Who needs access, or rather who should be granted access?  Maybe all that's needed to start with is whether the 
property record exists and what its status is - whether green, amber or red.</p>
<p>Probably the simplist implementation of a real propery changing hands is in an auction.  Would the central function
of propery relay, the traffic light signal, i.e. the property info and surveys, even be needed? If they are or certain
parts are needed or preferred then it would certainly speed up the sale of the property.</p>
<p>According to reddit (bookmarked) BTCrelay charges fees.  Means I don't have to register a separate address.  It 
looks like the relayers get fees not the developer(?)  I think you put a charge in the contract?</p>
<p>Description of Poperty?  More like are all the certifications in place? Legal and accounting.</p>
<p>Maybe you can do an auction for fees</p>
<p>If one of the objectives, or outcomes of this project was to build a social network for home owners I dont' see 
a problem with scaling, as usage, and benefit, can occur between as little as two parties only.</p>
<h4>Page 2</h4>
<ul>
<li>credit check - is this relevant?</li>
<li>mortgage fees - links to crowd funding? (Peer 2 Peer lending.  I was thinking that instead some app or function
aggregates all the individuals deposits and all the indvidual mortgages.  Therefore spreading the risk.  But 
this would be similar to a dervatives product?)</li>
<li>calculation of stamp duty - but the bands and amounts may change from year to year, or government to government.
(Further thoughts: I think a smart contract specifically handling stamp duty, or maybe other tax, fees, expenses could
be called from the main contract. Contracts can call other contracts.)</li>
</ul>
<p>Estate agent fees are usually 0.5% to 3% plus VAT of the selling price for sellers.  Would a propertyrelay dapp save
that money?</p>
<p>Maybe a mix and match do it yourself services is what property relay can offer.  What is the travel website where you
choose your flights and accommodation separately? </p>
<p>The survey: How would this be stored/handled in the dapp?  Upload file: PDF? and make sure its signed by surveyor?  PDFs
can be signed.  Needs to be dated.  And what about expiry or renewal?  What constitutes a change in the real properties 
circumstances? (Maybe a hash of the PDF can be made.  How acceptable would this be to rics?)</p>
<p>Doesn't each record have a timestamp already baked in?  A timestamp is needed for each record. (so that document order
precedent can be established.  And if a time limit on a document or its contents is required.)</p>
<p>RICS offer a condition report, homebuyers report and there is a building or structural survey.  There is a condition 
report pdf sample document online. (Not filled out)</p>
<p>Could you provide an API and/or an upwork type offering that provides photo takers, floor plan designers etc. e.g. the 
jobs people need to do in the process of selling the property.</p>
<p>Yes, information is main focus of propertyrelay. (No not necessarily.  There are many interlinking and dependent factors
that are required.) For example photos need things like number of photos image width and
height, labels, download form display html etc.</p>
<p>Then there is price of property  You could cross reference with things like mortgage, ask pice, actual price, with 
improvements like bathroom or kitchen or external things like school.</p>
<ul>
<li>revenue/fee sharing with RICS</li>
<li>permission based access (referred to above)</li>
<li>the property is the record.  The owners are 'just' fields in the record (i think there are two different things going on with 
this statement and the purpose of property relay. property relay would process the transaction between the buyer and seller
using the the green tick gained from the property record.) </li>
</ul>

<p>where do you get the proof of property ownership?  and how do I make sure its the owner modifiying/creating the record?</p>
<p>Land Registry has centralised records of land and property ownership in UK.  They also provide price data.  
Doesn't have to be owner to access this data.  Could I link to their website? (At the moment they are linking to a Case
Management System(CMS) I think, designed for laywers.)</p>
<p>Could a smart contract link to the property record? (not yet. see CMS referred to above.  and also requires payment for 
access to one record.) and when money is paid the 
contract updated to new owner or rather adds the new owner to the property record.  Land Registry has open data but can't 
find API for  access owner records.</p>
<p>Has RICS got a database of condition reports?  And are the completed reports in hand writing or text/print? (important
if making a hash of the document.)</p>
<h4>Page 3</h4>
<p>Maybe I should offer a service that pulls data from all  the different sources or notifies user/requester that certain
info doesn't exist and offers to get it.</p>
<p>Aim: to streamline real property transfer. Enable peer 2 peer transactions of real property.  May affect middlemen
such as solicitors and estate agents, banks and government.</p>
<p>How do you link the owner to ethereum account?  (so that the buyer pays the right person). A possibiltiy is that the
first person to sell the property in this process has a person check.  Basically a Know Your Customer(KYC).  The buyer 
would then hve his ethereum/bitcoin address put on the title deed and this would be used solely for further transers 
of that property.  Once the 
title deed is stored with the ethereum address on it on the blockchain, the smart contract can be coded so that only the person with that 
ethereum account address can sell the property.  The title deed could then have a chain of ethereum addresses on it.  
How I see it there wouldn't even need to be the name of the owner on the title deed, only the ethereum address.  But
would this be desirable, by government for example. But the process for KYC is labouring.  Passport photo, utility bills
and council tax bills.  And would banks or a company such as Coinbase provide the KYC 
service.  I think the government would be the preferred way to do the inital association between the home owner and 
the ethereum address.</p>
<p>This can be done because there are no chargebacks.  But what if the buyer uses currency (bitcoin/ethereum) that isn't 
his or acquired legally.  I think there are similarities to other payment methods.  Laws and regulation would have to 
be designed to cover these possibilities.</p>
<h4>Notes made from 31 March 2016</h4>
<p>Coinbase provides an API for its bitcoin service.  Coinbase has already done the KYC checks.  Buyer pays BTC to address.
BTC relay identifies payment and then smart contract puts buyers name and BTC/ETH addresss on title deed.  Coinbase has
a check/list account transactions.  So I suppose similar to BTC relay.  Can be found on Coinbase Developers website.
Permissions</p>
<p>The current owner of the property, linked to their bitcoin address has control of access to their property record.  They 
can choose to release the property record to those who request it. (But can they?  Are records on the blockchain and IPFS
 private or public?) The owner could chose what to release.  For example a green tick that represents that all is in order,
 or a checklist or the whole propery record.</p>
 <h4>Page 4</h4>
<p>floor plans: metropix.co.uk; android apps: floor plan operator; stanley floor plans - pdf option.  No central repository
of floor plans exists for real property.  How could I persuade estate agents to give me their records? (What motivation do
they have to release their records? None?  Maybe that could be a service they can still offer?)</p>
<p>Title register, title plan and flood risk: the land registry has on 'Business e-service' to access the above 3 documents.
But it interfaces with a case management system (CMS) which I think is:  It looks like the term CMS is athe land registry 
and business e-service using the existing solicitors and legal system.</p>
<p>'Eclipse Legal' is one company that offers CMS to interface with e-service called Proclaim. www.eclipselegal.co.uk.</p>
<p>This maybe complicated. (The problem is getting the buyers ethereum address onto the title deed.  Once it's on 
transactions between buyer and seller are a lot easier.)</p>
<p>Maybe I should focus on coinbase and a smart contract.  Maybe not needed buy verify buyer to bitcoin address (although
anybodies payment is good) but also verify funds.  Then use BTCrelay to verify bitcoin payment. Then update title deed with
buyers name and bitcoin address.  Also verify seller including ownership (which can be done through coinbase again).</p>
<p>Note:  It looks like the banks are using their own solution rather than ethereum.  A kind of pseudo-blockchain.  This 
muddies the waters (obfuscation?) of the path of the use of this technology (ethereum?).  I don't rate their solution.  But 
questions path and use-case of ethereum.  Maybe government services use transfer. e.g. id cards, property records, voting, 
census etc. (Non critical).</p>
<p>re coinbase: A coinbase bitcoin transaction can be read by a 3rd party website (or App?) through the use of notifications
and Oauth2.  This could then activate a smart contract that says ownership will be transferred to the owner of the payee of
bitcoin.</p>
<p>Simplified payment transaction:</p>
<ul>
<li>seller sets up a smart contract</li>
<li>buyer sends bitcoin to address</li>
<li>contract is executed</li>
</ul>

<p>{Real property/ethereum/bitcoin transaction diagram. (implemented on main web page index.html)}</p>
<h4>Page 5</h4>
<p>{4 stage arrow diagram. (i missed out the first step (verifying buyer and seller) and missed out propertyrelay step)}</p>
<p>In any transaction there is a buyer and a seller. connecting propertyrelay.org blockchain, smart contracts and dapps technology
and real world transactions.</p>
<h4>Notes made from 9 Apr 2016</h4>
<p>I've copied the above diagram to website but it has one glaring omission.  The buyer and seller need to be verified. (This
is partly true after looking at it.  Actually the verification only needs to be done once. (How I understand it anyway). But
this is one of the hardest steps i.e. getting the property process onto the blockchain.  The other omission is the
role of property relay. doh! lol)</p>
<p>Having read through my notes I need to verify the buyer and seller.  This could be done by Know Your Customer (KYC).
Basically coinbase at the moment. (Seller verfication need extensive investigation.  The buyer can include their 
ethereum account number and maybe their name in bitcoin transaction using OP_RETURN code. Seller is much more involved
becuase it is basically replacing the land registry service.)</p>
<p>0. (The new first step in arrow diagram) Establish sellers ownership of physical property. 0.5 Verify link between
real world buyers identity  and their bitcoin address. (Now I think just the ethereum address is needed, but probably
name as well would be helpful.)</p>
<p>Property Relay - with the circular economy, property ownership is always in flux, passing from one person to the next during
its useful life.</p>
<h4>Notes made from 11 Apr 2016</h4>
<p>There is so much I'm trying to do or cover that it's getting very muddled as to what propertyrelay.org actually does.</p>
<p>How to verify buyer?  Could an email be sent by buyer to link name and identification details to bitcoin address to the 
seller of property? before the payment is made from that address?(This has been superceeded by knowledge of the OP_RETURN code.)</p>
<ol>
<li>Seller writes contract, or condition, that will put buyers id and bitcoin address on contract.</li>
<li>Buyer sends details to seller or fulfills terms of (1).</li>
<li>Seller writes contract that says he will transfer title deed to buy to buyer in (2) if smart contract BTC relay  verifies 
bitcoin transactions.</li>
<li>Buyer sends bitcoin transaction.</li>
<li>Contract executes.</li>
</ol>
<p>Can one contract write another? (Yes)</p>
<h4>Page 6</h4>
<p>And if you have the bitcoin address and buyers identity do you need BTCrelay to confirm bitcoin transaction? (I think
you need BTCrelay.)</p>
<p>(1) is equivalent to exchange of contracts.<br />(3-5) is equivalent to payment and exchange of ownership.</p>
<h4>Notes from 6pm 18 April 2016</h4>
<p>Uploaded index_arrow_test...html to ecowebhosting</p>
<p>Solidity docs - a contract can 'create' another contract.</p>
<p>There is also the chain to think about.  As in the property chain, not the blockchain, the chain of buyers and sellers.</p>
<p>Eventually all that would be needed was control of the private key.  Access would be granted with proof of private key.  So
no need to put name on titledeed?</p>
<p>The ownership of a property on blockchain would be determined by a chain of ownership registered on the blockchain.  Each
ownership entry of a property would depend on the previous entry, all the way back to 'patient zero', or the first record of
that property.  Therefore the first entry and how it's handled is important and different in nature to subsequent records.</p>
<p>The new record is only valid if property up for sale (Yes/No flag) and recieved at least the market going rate.</p>
<p>Also 'chain of title'. This is what it's called. (Arrows to previous four paragraphs.)</p>
<p>For linking bitcoin to ethereum account:</p
<ul>
<li>look at bitcoin to see if an ethereum address can be added as msg.</li>
<li>look at BTCrelay</li>
<li>see how etherum trading Dapp sends Ether in contract after bitcoin confirmed. (EtherEx), Ether Exchange.</li>
</ul>
<p>Bitcoin tx can contain message of 40 bytes (I think 80, not 40) in 'op_return'. Ethereum address is 20 bytes.</p>
<p>Github: blockai/raw-op-return &nbsp; &nbsp;&nbsp;posts and reads/gets op_return contents.</p>
<p>Gets op-return from transaction id.  This is node.js.</p>
<p>Ethereum question: can the ethereum contract have data added to it at runtime?  reason - related to op_return
contents, the ethereum's address of the buyers account.</p>
<p>Access modifier.  Owner of record would get permission to interested parties to view record.</p>
<p>(Answer to Ethereum question above:) Info can be passed to contract. (I think this is done through raw transaction
passed as parameter to processTransaction() function at address of relevant contract. Resource reference:BTCrelay at
github readme.)</p>
<p>There are 3 possible projects here: A social network, the property relay (uses a traffic light system like RICS, like
HIPS) and the 3rd is the transfer of property info on blockchain.</p>
<p>Blockchain, Property chain & chain of title deed.</p>
<p>What about stamp duty? contracts can call other contracts so maybe a predefined/calculated fee could be deducted (or
added).</p>
<h4>Page 7</h4>
<h4>Notes made from 28 Apr 2016</h4>
<p>What if there is only the ethereum address and property adrdress on the property deed?</p>
<p>For protection form unauthorised property transfer multisig could be used.</p>
<p>Each deed has a uniquie reference number.</p>
<p>How about mortgage co's posession of deeds until the mortgage is paid off.  How would that work?</p>
<p>Would banks, traditional mortgage lenders, still be relevant?  Replaced by crowdfunding and/or derivatives so no one
lender is exposed to one borrowers liability?</p>
<p>Section on property. i.e. property chain and chain of deed.</p>
<p>Section on banking.</p>
<p>Implement basic transaction.</p>
<p>The transaction could be compared, timewise, to an auction. (quick)</p>
<p>Affected: Government, banks, solicitors, estate agents.</p>
<h4>Notes made from 8 May 2016</h4>
<p>Combining a title deed with ethereum account.  The owner would be anonymous if no personal info was given.  Could
a DAO or contract verify an ethereum account associated with a property (home)?</p>
<p>Maybe time based/limited and token based access like oauth2.</p>
<p>To verify an account just do something with the account.  e.g. send a transaction with name attached or write a smart
contract that gives owners name to an interested party at a specific or non-specific account.  To reduce the possibility
of compromise use multisig.</p>
<p>Include in website: The ethereum account number can be put in the text field(op_code) of the bitcoin transaction.  In
fact Satoshi Nakamoto use this field to put the following msg: banks ...bailout...</p>
<p>A contract can call another contract, so stamp duty and council tax can be paid.</p>
<p>I think not having an identity associatedwith a property is a bit dehumanising.  Language is important and it was
a major step in the ..th century to progress just signing a document with an X to a person's signature of name.</p>
<p>Webpage titled:</p>
<ol>
<li>Ethereum as payment mechanism/vehicle.</li>
<li>Dapp process showing transaction process.</li>
<li>Auction(This could be done in solidity) process (without property relay)</li>
<li>Selling home with property relay step.</li>
</ol>
<h4>Page 8</h4>
<p>The OP_RETURN field in the every bitcoin's transaction header can be used to store the buyers ethereum address.  This 
address can then be added to the title deed as the new owner of the real property.</p>
<h4>Notes made from 18 May 2016</h4>
<p>Associating a real estate property with an ethereum account:</p>
<p>This is one of the major steps needed to complete the transaction.  This step needs to be done once. (Like an init(); 
function) for each property.</p>
<p>The way I see this happening is the property owner fills out a form on the land registry website requesting that
they want to associate an ethereum account with their home.  The government agency then sends an ethereum keystore
(address(?)) to the owner at their home.  This info is protected somehow.  For security maybe the owner does a contract
to send to a new account/keystore(?)</p>
<p>((As of 30 jun 2016).  I think a method has been found related to above paragraph about associating a property with
an ethereum address.  The land registry registers a change in ownership through a form.  TR1 or AP1.  This form
could be sent with the ethereum address.  The land registry then adds this info to a database specifically for the 
purpose of associating ethereum addresses with property.  Then when a real property transaction takes place this 
database is used to establish relationship.)</p>
<p>(A further step to do this initial check is for the owners to send a small token amount of bitcoin to the land registry.
This transaction references the ethereum address, property address, and maybe name. This needs more thought.  Don't think this
is needed.  Just means there needs to be a special case when dealing with the first transaction of real property.
Although this step would associate bitcoin address with property.  Maybe the owner sends their bitcoin address with AP1 form 
as well (Yes).</p>
<p>Once this initialisation is done then the chain of accounts can be done without the need for a 3rd party.  This situation
can be likened to bitcoin. In order to regulate the flow of bitcoin and associate transactions with individuals gatekeepers 
have been established. (for KYC and AML)  Mainstream goods are not denoted in bitcoin but in fiat (currency).</p>
<p>This is speculation.  Needs more thought. (paragraphs 1 and 4 above).  (Since then contacted land registry and downloaded
AP1 form and understand this more.  Paragraphs 2 and 3 above is the solution to initialisation as I see it.)</p>
<p>As Morpheus in the matrixs says: "They are the gatekeepers.  They hold all the [keys]?" (referring to agents.  Then
negative.  Now in usage for example Superintelligence and Ethereum etc not so negative.</p>
<p>Government has been necessary, and the law for enforcing property rights.  Also Gov is lender of last resort.  Fed
created after crash.  Also mention J P Morgan or Rockerfeller stood as guarantee after crash.</p>
<p>Crowds are good in some respects, like crowdfunding for Oculus Rift, later bought by facebook, but they also are bad, 
[Newtons quote 'madness of crowds' regarding the South Sea bubble.]</p>
<p>To get raw transaction use blockr.io to get transactions from address.  Then get raw transaction. Not a great solution.
Still have to copy and paste address.</p>
<p>For an auction try adapting code I've seen!  It's basically:<br/>
if(time < timeLimit)<br/>if(bid > currentBid)<br/>currentBid = bid<br/></p>
<p>Sure the code I'd seen was voting, Maybe DAO code.</p>
<p>Transaction - get raw transaction from blockchain:</p>
<ol>
<li>Offer input box to input users bitcoin address;</li>
<li>Return all transactions from that address and make one selectable by user;</li>
<li>Use blockr.io api raw transaction api to convert transaction to raw transaction;</li>
<li>Use raw transaction to pass to BTC relay.</li>
</ol>
<h4>Page 9</h4>
<h4>Notes made from 05 June 2016</h4>
<p>blockr.io has address API that returns last 200 transactions for given address.</p>
<p>Government (UK) is planning to privatise the land registry.  How does this affect property relay?</p>
<p>Coinb.in api</p>
<p>IPFS</p>
<p>Currency conversion: BTC/Dollar/Pound</p>
<p>Do a check for 200 and 4 for API call.</p>
<p>Do an address format check in javascript.</p>
<p>Raw transaction from tx in blockr.io</p>
<p>bitcoinjs.org</p>
<p>form validation - <br/>
Amount - Is it the right amount i.e. equals price of property?<br/>
Bitcoin address: right length.  See bitcointalk.org forum post.</p>
<h4>Notes made from 11 June 2016</h4>
<p>Things to do:</p>
<p>Add USD and GBP amounts for each tx bitcoin amount.  Use blockr.io for USD amount conversion.  Only use API once and
then use that variable for rest of txs.  Use Yahoo finance for GBP converison.  There's a github page for doing this.
'henrik' in bookmarks.  Probably need table for display and format of these quantities. Div elements would be too risky.
i.e. amounts may not be in the same rows. (Done as of 30 Jun 2016, in json_get.html.  No need to use Yahoo.  Currencies
provided in blockr.io API currency call.  Had to remove form element to allow multiple buttons.)</p>
<p>Use blockr.io api for raw transaction. from transaction in value in radio button above. (Done)</p>
<p>Change submit button to button. Add another button for transactions and radio buttons. (Done.)</p>
<p>For transaction index parameter in relaytx() get block number from API call referencing time of block after unix time.
This requires transforming UTC time in txs listed through Address txs, to unix time. (No need to do this.  Should have
checked BTCrelay example on github. '.../examples/testnetSampleRelayTx.html' for code for the relaytx().  This shows
how to get all the parameters for this function including get block number from block hash from raw transaction.)</p>
<p>Get blockhash from block number got in above step. (Unecessary. see above)</p>
<h4>Notes made from 12 June 2016</h4>
<p>Use some github bitco.in (think i mean Coinb.in website)code to create dapp client side code for wallet functions and to 
send transactions.</p>
<h4>Page 10</h4>
<p>Paul Downey - UK Government Digital Service</p>
<h4>Notes made from 27 June 2016</h4>
<p>Received reply from land registry.</p>
<p>Made me think about how to prevent anyone making a false real property record on the blockchain.</p>
<p>A solution (maybe): The government keeps a record of the first instance of the real property put on the blockchain.  For
example the record could be a hash of the record, including the unique identifier the government uses and the ethereum
address associated with the property record. (07Jul16, either a bitcoin payment or ethereum payment is associated with 
contract execution and the transfer of real property title.(is contract execution recorded on the ethereum blockchain?))</p>
<p>Once this first record is made then this first instance, (because of timestamp), would be enough to verify the 
ownership.  Then potential buyers could do a search of the real property address and find the first record and subsequent
owners in a chain.</p>
<p>This would stop bad actors.  How the first ethereum address is associated with the address is still unknown. (07Jul16,
see updated comments on page 8 section above for solution.)</p>
<p>To ensure ligitimacy of property use: hash government has, the contract and the (bitcoin or ethereum) payment.</p>
<p>Whats to stop anyone relaying an existing bitcoin transaction and put their name on the OP_RETURN code?!</p>
<p>Put ethereum address, (real property) address and persons name in OP_RETURN.  (This does not solve problem.)</p>
<p>(07Jul16, a transaction is made and recorded when a contract is called.)</p>
<p>Poss process of sale and purchase</p>
<p>The seller calls a contract that puts sale details on blockchain.</p>
<p>Buyer calls a contract (different contract to above one?) with those details to purchase property.</p>
<p>?  May still need initial step.  For example how about sending in the TR1 form to land registry from solicitor or
conveyancer with ethereum address, (and bitcoin address?).</p>
<p>I think the land registry would still need to provide a reference number and ethereum address in has to counter above
situation of a bad actor trying to sell a property he didn't own.</p>
<p>The buyer would then reference this hash code in bitcoin transaction OP_RETURN code.  Contract could then check for this
hash.</p>
<p>A record of the bitcoin payment and reception(?) with the ethereum address in OP_RETURN may provide enough proof of 
legitimacy of transaction.</p>
<p>The problem is that relying on the same bitcoin address for large transactions is undesirable (I think) but there is
a deterministic wallet - multiple address from one private key.</p>
<p>1) So there needs to be conditions to write contract (and sell property) (like bitcoin and ethereum address)(or call
the sale property contract).</p>
<p>2) And needs conditions to buy property and fulfill contract. (like bitcoin and both ethereum addresses.)</p>
<p>These conditions can be (for 1) parameters in contract and maybe same for 2 or/and put in OP_RETURN.</p>
<p>It would be easier to use same bitcoin address.</p>
<p>Don't want to rely on peoples names.</p>
<h4>Page 11</h4>
<h4>Notes made from 26 Jun 16</h4>
<p>so the ethereum account is bound to the bitcoin payment and vice versa.</p>
<p>How about there is a form where person can put real property address in.  And the bitcoin is populated automatically
from that info.</p>
<p>The holder of the ethereum address can only submit the form.  Or the account says 'you can sell the following 
real property(ies).  What about one owner of many real properties or many owners to one property?</p>
<h4>Notes made from 28 Jun 2016</h4>
<p>I'm having problems with how to prove a seller, without a person's name and a centralised database.  And using the
blockchain technology.  The chain is proved by PoW, proof of work.</p>
<p>Thought about merkel tree and unique reference.  Its almost like I need a blockchain for property title deeds!!!
But the blockchain determines the first instance of a transaction.   And duplicates are rejected.  But the first
instance on the property deed may not be the ligitimate one.</p>
<p>If the sale can only be done by the ethereum a/c holder who has the property registered to them, then the first sale
is the legitimate one</p>
<p>In the 'helloworld' contract for ethereum the owner is static (msg.sender) so change that to dynamic (code): <br>
owner = msg.sender;<br>
&nbsp;&nbsp;&nbsp;(check for transaction code)<br>
buyer = owner;</p>
<p>Use blockr.io to get OP_RETURN contents of btc address/transaction.  How reliable is blockr.io. (18Jul16 There is
a website I think called bitcoin secrets that parses OP_RETURN.)</p>
<ul>
	<li>reasonable price for property check;</li>
	<li>remove seller as msg.sender;</li>
	<li>could buyer sell property back to seller or onto another person.  Possible money laundering, flipping
	tax purposes;</li>
	<li>how do you stop two or more people sending money for property?  Who is proper buyer?;</li>
	<li>how to return bitcoin to unsuccessful buyer(s)? (I think ethereum contract locks payments and then returns 
	them. see auction contract code example.  (Think on github:google it.));</li>
	<li>how to lock contract once activated by first legitimate buyer.;</li>
	<li>how would you ensure the desired contract is called? not one from bad actor?</li>
	<li>I think you can verify proper sale and purchase of property by verifying link between contract, ethereum
	account and payment (via bitcoin).  As long as a transfer is linked with payment it is ok.  This is done through
	OP_RETURN on bitcoin side.  How on ethereum side?;</li>
	<li>timestamp of bitcoin transaction that was relayed;</li>
	<li>the first owner in the chain could send a token amount of bitcoin to the government to get the ball
	rolling and the owners on blockchain;</li>
	<li>there need not be any time limits.  Well, no immediacy;</li>
	<li>what does the contract do?  Put the ethereum address, the seller's bitcoin address when they bought,
	the amount and exchange rate at time, in a PDF doc on IPFS;</li>
	<li>Both bitcoin transaction and ethereum address needed to be linked and the next sale transaction
	and other transaction info in chain to execute and be valid.</li>
</ul>
<h4>Page 12</h4>
<ul>
	<li>what happens if there is a big difference between two consecutive transactions.  For example the first. 
	(which is a token gov. transaction.) Or if there are many years between purchase and sale? (25 July 2016:
	maybe use AI to get the average, minimum, median price for that postcode/area.);</li>
	<li>what about slippage? due to volatility in bitcoin price.  It may be desirable to check amount for 
	exact amount when verifying previous transactions for sale of property;</li>
	<li>how is fluctuation of exchange rate between bitcoin and fiat currency to be handled? How do cross 
	border transactions of property using currrency done?</li>
</ul>
<p>Does the seller need to write <underline>and/or</underline> call a contract? (25 July 2016: I still don't
know how this will work.  The seller will probably call a contract that is already written and defined.  But how
do you diferentiate between the different sellers that call the contract? In EtherEx there is msg.sender.  So there
must be many msg.sender(s) in contract.  How do you valididate sellers property?  Where does the post office get
its property address database details from?  How do sellers list their assets for sale on EtherEx?) 
(Check how etherex does it, for example.)
What about the buyer? (25 July 2016: EtherEx deals with financial assets, not a physical object, like property.
Etherex is a contract where Ethereum account holders can send Ether to the contract.  This balance can then be used to buy
other exchange for other currencies. (Maybe expanded to other asset classes (How?)))  </p>
<p>To solve the chain problem, the insertion of a fake real property transaction, add the previous bitcoin address/
txid(?) to OP_RETURN field.</p>
<p>-on the ethereum side, seller needs to say 'If you send to this bitcoin address contract will execute'.  so you
have a binding between ethereum and bitcoin on the sellers side.</p>
<p>To solve the 'origin' problem - the need for the government to maintain a centralised database - or the records
on swarm - is to have a hash of the whole database (all 25 million records!) and include that hash in each record/
transaction afterwards.  The quantity of transactions and the other checks reduce(?) forgabiltiy - e.g. large price
of property and time stamp.</p>
<p>21.co (website) is saying a hash of info e.g. ethereum address be put in OP_RETURN.   Only 80 ascii characters,
equals 80 bytes.  Mentions proofofexistence.com.</p>
<p>OP_RETURN is a transaction output in a transaction.</p>
<p>Consider using 'decode' part of blockr.io API.  For getting OP_RETURN value.   Make POST request.  I think this is
for when you have the hex value? (25 July 2016: coinsecrets.org has an API for OP_RETURN)</p>
<p>blockchain.info/decode-tx for converting raw transaction</p>
<p>who calls BTCrelay? buyer or seller? (25 July 2016: think the buyer calls it.  Would be done by contract?)</p>
<p>To see how propertyrelay dapp may function check out dapps/io's(?) such as the art co. can't remember name (25
July 2016: ascribe.io)</p>
<p>Buying/Selling process:</p>
<p>Buyer sends bitcoin to sellers bitcoin adddress specified in sellers ethereum contract.  Buyer includes their
ethereum adddress (in OP_RETURN of their bitcoin transaction).  Buyer becomes new owner.  New owners ethereum 
address is put in swarm or held in 
contract's data along with bitcoin address and transaction.</p>
<p>Only owner with ethereum address and bitcoin address can sell.  New buyer, Dapp checks bitcoin sent to address
and ethereum address. (01 Aug 2016: still working on understanding process.  But seller wouldn't create contract,
but call one already specified.)</p>
<p>How does a contract store data,state? (01 Aug 2016: a contract can store data, from how I read the EthexEx 
contract on github (see the trade and balances arrays, but I think storage in this manner is expensive. (Costs gas).
I think the best way to do this is to save the real property details in a database (swarm or ipfs), and use
 the contract for the listing of all property for sale.)</p>
<p>Still don't know how contracts would work in property sale scenario.  How does the contract get written or called
by the seller.  If called/invoked how? or written how?</p>
<p>A contract is an account.</p>
<p>The contract can be called from owners account.</p>
<h4>Page 13</h4>
<h4>Notes made from 13 July 2016</h4>
<p>Need continuity.  Need a way to find transactions for each real property.  Would a cut off timestamp for initial
registration of real property with the government work for proof of, or continuity of real property ownership.</p>
<p>Sidechain?</p>
<p>You can have only one owner, (I mean account), or a real property at a time.  So there is only one instance of a 
property.* So only one person can sell it</p>
<p>*But do you really want to search the whole blockchain or 25 million records to see if there's a duplicate? Vector(?)
search are a bit faster.</p>
<p>What about the ethereum address sent to the government then hash made and then both put on blockchain along with 
other 25 million in a verified file.  But that means doing all records at once.  Maybe allow append to file. (More thought
needed.)</p>
<p>Just dump gov database on blockchain swarm or ipfs.  (Needs further thought.) e.g. can the database record be deleted. 
Want to prevent that.</p>
<p>(Other:) Would accounting be suitable to AI on blockchain.  For example logisitic regression (multivariate?) to put
different transactions in proper ledger?  There was something on Twitter who have used AI for accounts.  Validated or 
labelled data?</p>
<p>Say on IPFS file has one real property record.  Then the hast of that record could be compared to a hash value put 
together from the users account side. So: <br/>
if (ipfshash == accounthash)</p>
<p>so if hash of record = 123456.  This hash contains for example property address and ethereum account number of owner.
(and bitcoin address) and name?  Then use msg.sender and property address in a string to compare to the hash, 123456.  
If it matches the owner of that ethereum address can take action with that record.</p>
<p>There is still issue of ownership ligitimacy, (for first instance).  Still need to compare whats on blockchain with
what land registry has on record for first record in chain.  So for example I mention a hash above.  The land registry
would store the hash on their centralised servers and this would be compared to reocrd on blockchain.  Maybe through
API.</p>
<p>Dapps/IPFS <br/>With reference to above paragraph, the hash would not be threatened from a bad actor <u>if
</u> the Dapp is able to be verified, and bad actor Dapps are prevented from operating <u>AND</u>
the Dapp calls the IPFS file.</p>
<p>IPFS has a node (account(?)) with a public and private key.  So only content from that public address could be 
accessed by Dapp.  Meaning that only land registry could have control of that a/c / node.</p>
<h4>Notes made on 18 July 2016</h4>
<p>IPFS - think this is the solution.  Just dump the whole Land Registry database on IPFS.  Implementation details
required. (01 Aug 2016: Option is to transfer one property at a time.  That would require the land registry to have
an account that has control over database of transactions transferred for the first time from their centralised
database to ethereum (either swarm or ipfs).</p>

<h4>Page 14</h4>
<p>API: find out how one would be created and how it would work with land registry or a database.  whats to stop
the first user registered on the land registry from selling the property more than once?</p>
<p>EtherEx(?) - for buyer becoming next owner.</p>
<p>IPFS - how multiple people (buyers/sellers) access/change one a/c in IPFS?</p>
<p>Todo: check how dapps are served.  Through mist? What is the Dapp equivalent of Google Play and Apple App Store?</p>
<p>Dreamfactory API creator from SQL database. search 'REST API'. maybe too heavyweight for needs.</p>
<p>www.getaddress.io - address lookup, but it probably gets its info from the land registry. lol.</p>
<p>PAF by royalmail.com (looks like all address lookups originate from this source.)</p>
<p>You've got a hash, or just a/c number stored of current owner.  Only when info inputed equals/produces a hash
equal to the present one does the transaction execute.</p>
<p>This on its own (by itself) still doesn't stop a bad actor injecting his property record and its hash.  What about
the hash containing the propery info, account etc <u>and</u> previous hash.  Maybe the previous transaction id instead 
put in next hash.  Maybe a counter included in hash to say how many times property sold.  And a separate property 
ref counter.</p>
<p>A counter can be used (or true/false boolean) to be included in contact and hash to say an account has already sold
the property.</p>
<p>The hash of each previous real property transaction going back to the first hash in the government database is put
in the most recent transaction. (basically a merkel tree!)</p>
<p>A list of hashs of all transactions concerning the real property.</p>
<p>The first instance is important.  Could there be a way of the land registry owning an account (e.g. ethereum, swarm 
or ipfs) that only it can write files? (e.g. property records).  In that way property origin is guaranteed and the 
subsequent hashs could point to one of these (25 million records) files.</p>
<p>Thats the property side (sales side) of the transaction (and call of the contract). What about buyers side?  The
buyer would need to send the ether to the contract, (or bitcoin to sellers bitcoin address).  This would create a 
transaction.   This transaction could be included in subsequent sales of the property.</p>
<p>The land registry lends itself to blockchain because it is database based and the title deeds can be generated
programmatically (in the form of a pdf document).</p>
<p>How would a record/real property  for a new property be added?  The way the database on the blockchain is
initialised and subsequent transfers is very important.</p>
<h4>Page 15</h4>
<p>This solution deals with the <u>transfer</u> of property.  Need more thought on new builds and conversions i.e.
new real property to be added to blockchain/database.</p>
<p>The ethereum a/c address and bitcoin address would be added to AP1 and added to database.</p>
<p>Along with list of property transactions also have list contract calls of ether transfers for each property.</p>
<p>'Estonia has an electronic land registry...reducing land transfers from three months to a little over a week.'
Blockchain Revolution, P198.</p>
<p>Mention article on Sweden www.bitcoinmagazine.com, 'Sweden conducts trials of a blockchain smart contracts 
technology for land registry' (Title of article)</p>
<p>Reduces time to day adn reduces fraud.</p>
<p>However this solution uses 5 participants: buyer, seller, solicitor, land registry and banks.</p>
<p>What about taxes on the sellers side e.g. CGT (Capital Gains Tax?) could be a flag to indicate payment or not.</p>
<p>What happens if someone loses their private keys, password? dies?</p>
<p>Process for putting records on blockchain. Owner sends amended AP1 form.  Land Registry uploads that file to 
blockchain.  If IPFS then land registry only has access to that a/c.</p>
<p>My solution doesn't assume the financier would automatically be a bank, and that a solicitor would not necessarily be 
required.</p>
<p>If multiple properties listed under 1 name then appropriate tax can be taken.</p>
<p>What does an ethereum transaction consist of? to a contract and another a/c?</p>
<p>There is the option of multisigniture as one solution to loss of private key.  But this could nullify the advantage
of a blockchain.  For example have 3 key holders with m-of-n is for example 2 of 3, and a solicitor (curator) holds one,
the land registry holds another and the owner holds the 3rd (or a bank or financial backer holds one) but owner loses
control.</p>
<p>Or sign in sites like google have back up methods like another email address or a phone number.</p>
<p>If the multisig is used, with a bank or arbitor then does this negate the immutablity and peer to peer reason for 
using the block chain in the first place?</p>
<p>Because the blockchain  is immutable storing the history of all the owners of each property it is necessary to have
the contract save state i.e.. the present owner of the property.</p>
<h4>Page 16</h4>
<p>The contract can only ever hold the total number of property records if state recorded in contract, no matter how
many times the property is sold.</p>
<p>External transactions pay contract gas.</p>
<p>Transactions can store data in data field? Answer: of 89kb as of Feb 2016.</p>
<p>A contract can store 2^261 bytes (V. Buterin. Stack Exchange.) so an address or hash could be stored in the contract
for each of the 29 million property records.</p>
<p>Is an ethereum address 20 bytes? (I think so). hash is 32 bytes?</p>
<p>The new hash contains the previous hash, the new owners ethereum address and the real property address, (and maybe the
owners name).</p>
<p>The data from this hash can be put together and taken apart by Dapp(?)</p>
<p>Verified Dapp. Advisable.</p>
<p>Multisig - more thought needed how it changes model.</p>
<p>How can you link the sellers ethereum address to the balance in the contract paid by the buyer?</p>
<p>Could the unencoded contents of each hash be put in the data part of the transaction so that the hash can be created
from that data and therefore without an outside database.</p>
<p>You can run the new and old system in tandem (to a certain extent).</p>
<p>Hash is of string or JSON or ? ?</p>
<p>It is a peer-to-peer paradigm.  No 3rd party.  Introducing a centralised dependency would negate this use.  But yes
loss of key or a death of owner would require more thought.  For example Mark Zuckerberg created a control(?) structure
for his board of five seats. 3 seats for himself and 2 for others.  This format could be translated to multisig.  Maybe
one of the owners keys, the 5th key, could be owned dependent on law.   So in case of dispute (like foreclosure) the key's
ownership could change.</p>
<p>Saving data in the transaction removes need for centralised database.</p>
<p>A memo was released on 8 Aug 16 by Tony Scott, Whitehouse CIO, about open sourcing software.</p>
<p>The origin problem: maybe if identities were introduced for selected organisations.  (There's coinbase etc that do this.)</p>
<p>The land registry has 1 account/ethereum address linked therefore its identity (and solves origin problem)</p>
<p>Multisig is like 2 factor authentication.</p>

<h4>Page 17</h4>
<h4>Notes made from 10 Aug 2016</h4>
<p>For the control regarding collecting tax.  Use setters and getters.  The land registry would use a setter every year and 
the seller would use the getter.  What about storing getter (16Aug16: don't you mean setter) variable?</p>
<p>The paper doesn't consider transfer between crypto currencies and fiat currency, but there are intermediaries like 
coinbase that do this, addressing KYC and AML.</p>
<p>This paper doesn't include other activities of land registry  but these could be off chain/integrated on chain or
added modules.  Could ether a/c, private key be used to verify owner for making changes to property details.  How would 
that work?  Send a transaction to LR ethereum address with relevant data in it or to an LR contract.</p>
<p>Transactions are not reversible.  Ethereum is quite inflexible.  Can you add contracts to an existing contract?</p>
<p>The purpose of the land registry is the registration of land and property.  This is guaranteed by the government.</p>
<p>Registration, when first introduced was not compulsory.  My method is the same (not compulsory).</p>
<p>When ethereum includes SPV, Mist can run in a browser on a mobile phone.</p>
<p>Ebay uses stars for reputation of seller and can use charge backs from credit cards (& paypal?)</p>
<p>A smart contract is like a traditional contract in law (sort of). It has offer, acceptance and consideration.  So
could existing law cover smart contracts.</p>
<p>Is there a need for government guarantee if contract is stored on blockhain?  (see 'Law of Bitcoin' book)</p>
<p>The advantages are substantially quicker property transactions, the prices of property are high and are valuable
so any blockchain reord needs to be secure adn well thought out.</p>
<h4>Page 18</h4>
<h4>Notes made from 12 Aug 2016</h4>
<p>You could use linear regression to give an estimate of property prices.  And use this to check the sellers listing
price.  Make sure they don't sell for a penny.  Although there migh be exceptions.  For example sold for a (token
amount of a) £1.</p>
<p>-2^261 hashs of records so millions of records doable.</p>
<p>-sha3 method inside contract (solidity) so hashes can be compared. (16Aug2016: for example a hash stored in a contract
 can be compared to the sha3 encoding hash of the msg.sender address and some other data, for exmaple a real property 
address, so that only the proper owner of ethereum address can perform action regarding their real property.)</p>
<p>-multisig.</p>
<p>Scalability of ethereum question issue.</p>
<p>(these notes have been transferred to 'land_registry_blockchain.html' file, 'LRB' ref.).</p>
<p>In the transaction to buy a real property there is the previous hash as a single string in the data part.  This
is added to the buyers ehtereum account address to form a hash to store as a 32byte data in the contract.</p>
<p>Then this info could be used with sha3 method to verify seller (previous buyer).</p>
<p>Using the above model would require an external database - containing the real property info and hash.  Ideally
that info needs to be on the blockchain too, in the transaction data field.</p>
<p>But how would you get the hash from the previous transaction?</p>
<p>What about just a hash of just hte address.  But in that ccase why not just put the address in contract?!  But 
what about the owners with multiple properties?  1 single address reference would be ambiguous in that case.</p>
<p>If  you had a seller of malt whisky or vintage wine you have to trust the seller that they own it an that they
won't just disappear with the buyers payment.</p>
<p>The blockchain has been called 'The trust protocol' by Blockchain Revolution book.</p>
<p>Within the context of the land registry, and the 2 points above:<br/>
-Bitcoin can be seen as enabling the transfer of money;<br/>
-Ethereum can be seen as this also but also ethereum can be seen as the transfer of ownership.</p>
<p>These two technologies, or just ethereum, can be seen as addressing the two points above about land registrys
database and transfer of ownership.</p>
<h4>Page 19</h4>
<h4>Notes made from 16 August 2016</h4>
<p>Bitcoin and Ethereum have a database, but it's structured differently.  And is trustless and therefore requires 
no trusted 3rd party.  It is peer to peer.</p>
<p>You can collect tax at source and immediately.  I would suggest, in this essay, a voluntary transfer to the 
blockchain like the land registry did/does with title registry.</p>
<p>Developers time is usually spend on problems, either preventing them or handling them. (error codes, mistyping) and many other user and sstem errors.  But the benefits of ethereum far outweigh the negatives.  That's what the testnet is for.</p>
<p>What is a database - definition needed.</p>
<p>At the centre of the land registry is a database.</p>
<p>Security and scalability: code is open source so anone can view and contribute.  There are plans for scalability over the next few years.  (& quality and transparency)</p>
<p>Payments are non reversible.  Nature of peer to peer (no trusted 3rd party). Credit card are reversible.   The use of multisig, who holds the keys, under what conditions they change hands or when they are released, is important question to answer as they govern ultimate control of ownership.  What happens to a lost key in multisig? for example if someone dies.  Get replaced.  You could just 'sell' (call a predesigned function in the smart contract) the property to a new address which would have all the keys.  What if someone wanted only a cerntain number of keys, say only 2? (for example, if they paid for property in cash. i.e. no bank.) Could there be a choice given.</p>
<p></p>
<p></p>
<p></p>




<p>Email: info{@}propertyrelay.org</br>
Twitter: <a href="https://twitter.com/propertyrelay" target="_blank">@propertyrelay</a></br>
Github: <a href="https://github.com/propertyrelay" target=_blank">propertyrelay</a></p>
</div>
</body>
</html>


 

 